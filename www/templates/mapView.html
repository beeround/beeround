<ion-view cache-view="false" view-title="Map">

  <ion-content scroll="false">
    <div class="row searchbox">
      <div class="list list-inset no-padding-right">
        <label class="item item-input">
          <i class="icon ion-search placeholder-icon"></i>
          <input id="searchLocation" g-places-autocomplete force-selection="true" options="autocompleteOptions" ng-model="place" type="text"
                 placeholder="Standort eingeben">
        </label>
      </div>
      <div class="list list-inset no-padding-left">
        <button class="button-geolocation" ng-click="newGeolocation()">
          <i class="ion-ios-location"></i>
        </button>
      </div>
    </div>




    <ng-map styles='[{"featureType":"poi","elementType":"labels.text.fill","stylers":[{"color":"#747474"},{"lightness":"23"}]},{"featureType":"poi.attraction","elementType":"geometry.fill","stylers":[{"color":"#f38eb0"}]},{"featureType":"poi.government","elementType":"geometry.fill","stylers":[{"color":"#ced7db"}]},{"featureType":"poi.medical","elementType":"geometry.fill","stylers":[{"color":"#ffa5a8"}]},{"featureType":"poi.park","elementType":"geometry.fill","stylers":[{"color":"#c7e5c8"}]},{"featureType":"poi.place_of_worship","elementType":"geometry.fill","stylers":[{"color":"#d6cbc7"}]},{"featureType":"poi.school","elementType":"geometry.fill","stylers":[{"color":"#c4c9e8"}]},{"featureType":"poi.sports_complex","elementType":"geometry.fill","stylers":[{"color":"#b1eaf1"}]},{"featureType":"road","elementType":"geometry","stylers":[{"lightness":"100"}]},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"off"},{"lightness":"100"}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#ffd4a5"}]},{"featureType":"road.arterial","elementType":"geometry.fill","stylers":[{"color":"#ffe9d2"}]},{"featureType":"road.local","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.local","elementType":"geometry.fill","stylers":[{"weight":"3.00"}]},{"featureType":"road.local","elementType":"geometry.stroke","stylers":[{"weight":"0.30"}]},{"featureType":"road.local","elementType":"labels.text","stylers":[{"visibility":"on"}]},{"featureType":"road.local","elementType":"labels.text.fill","stylers":[{"color":"#747474"},{"lightness":"36"}]},{"featureType":"road.local","elementType":"labels.text.stroke","stylers":[{"color":"#e9e5dc"},{"lightness":"30"}]},{"featureType":"transit.line","elementType":"geometry","stylers":[{"visibility":"on"},{"lightness":"100"}]},{"featureType":"water","elementType":"all","stylers":[{"color":"#d2e7f7"}]}]' on-zoom_changed="zoomChanged()" zoom="{{zoom}}" center="{{userSettings.lat}}, {{userSettings.lng}}">
      <marker position="{{userSettings.lat}}, {{userSettings.lng}}" animation="Animation.BOUNCE" centered="true"></marker>
      <marker ng-repeat="marker in markers" id="{{marker.id}}" position="{{marker.lat}},{{marker.lng}}" on-click="showDetails(marker, $index)"></marker>
    </ng-map>

    <div on-swipe-left="next()" on-swipe-right="prev()" ng-show="selectedBrewery" class="detailbox">
      <i class="ion-android-close" style="float:right" ng-click="closeDetails()"></i>
      <h3>{{selectedBrewery.name}}</h3>
      <div class="item divider">
      <p>{{selectedBrewery.address}}</p>
      <p>{{selectedBrewery.plz}} {{selectedBrewery.city}}</p>
      </div>

      <div ng-show="selectedBrewery.beers && selectedBrewery.events">
        <span><i class="ion-ios-pint"></i>{{selectedBrewery.beers.length}} Biere</span>
        <span><i class="ion-ios-calendar"></i>{{selectedBrewery.events.length}} Events</span>
      </div>



    </div>


  </ion-content>


</ion-view>
